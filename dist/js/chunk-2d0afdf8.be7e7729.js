(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("div",{staticClass:"row justify-content-center mt-5"},[i("div",{staticClass:"col-md-7"},[i("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl[0],alt:"..."}})]),i("div",{staticClass:"col-md-5 d-flex flex-column justify-content-center"},[i("p",{staticClass:"h2 mt-3 mt-md-0 text-primary"},[t._v(t._s(t.product.title))]),i("hr",{staticClass:"border-primary mt-0 w-100",staticStyle:{"border-width":"1.5px"}}),i("p",[t._v(t._s(t.product.content))]),i("div",{staticClass:"d-flex"},[i("p",{staticClass:"h4 text-primary mb-0 mr-3"},[t._v(" 售價："),i("strong",[t._v(t._s(t._f("money")(t.product.price)))])]),i("del",{staticClass:"text-muted"},[i("small",[t._v("原價："+t._s(t._f("money")(t.product.origin_price)))])])]),i("div",{staticClass:"d-flex mt-3"},[i("div",{staticClass:"w-50 mr-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mr-3 border border-dark",attrs:{name:"unit"},on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.product,"num",s.target.multiple?i:i[0])}}},t._l(8,(function(s){return i("option",{key:s,staticClass:"text-center",domProps:{value:s}},[t._v(" "+t._s(s)+" "+t._s(t.product.unit)+" ")])})),0)]),i("button",{staticClass:"btn btn-outline-primary w-50 d-flex justify-content-center\n        align-items-center",attrs:{type:"button"},on:{click:function(s){return t.addToCart(t.product.id,t.product.num)}}},[t.status.loadingItem===t.product.id?i("i",{staticClass:"mr-2 spinner-grow spinner-grow-sm"}):t._e(),t._v(" 加到購物車 ")])])])]),i("div",{staticClass:"row mt-5"},[t._m(0),i("div",{staticClass:"col-md-9"},[i("p",{domProps:{innerHTML:t._s(t.product.description)}})])]),i("div",{staticClass:"row mt-5"},[t._m(1),i("div",{staticClass:"col-md-9"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-weight-hanging pr-2"}),t._v("重量： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.weight)+" ")]),t._v("克 ")])]),i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-fire-alt pr-2"}),t._v("熱量： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.calories)+" ")]),t._v("卡 ")])]),i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-egg pr-2"}),t._v("蛋白質： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.protein)+" ")]),t._v("克 ")])])]),i("div",{staticClass:"row mt-md-2"},[i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-tint pr-2"}),t._v("脂肪： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.fat)+" ")]),t._v("克 ")])]),i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-cookie-bite pr-2"}),t._v("碳水： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.carbohydrate)+" ")]),t._v("克 ")])]),i("div",{staticClass:"col-md-4"},[i("p",[i("i",{staticClass:"fas fa-certificate pr-2"}),t._v("鈉： "),i("span",{staticClass:"border-bottom border-dark text-center",staticStyle:{display:"inline-block",width:"30%"}},[t._v(" "+t._s(t.product.options.na)+" ")]),t._v("毫克 ")])])])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("h5",{staticClass:"font-weight-bold mb-3 h5"},[t._v("相關商品")]),i("RelatedPorducts",{attrs:{product:t.product},on:{update:t.getProduct}})],1)])],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"col-md-3"},[i("h4",{staticClass:"text-primary"},[t._v("商品資訊")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"col-md-3"},[i("h4",{staticClass:"text-primary"},[t._v("營養成份")])])}],c=(i("99af"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"mb-5"},[i("Swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.identical,(function(s){return i("swiper-slide",{key:s.id,staticClass:"item"},[i("div",{staticClass:"card h-100"},[i("div",{staticClass:"bg-cover card-img-top",staticStyle:{height:"180px",cursor:"pointer"},style:{backgroundImage:"url("+s.imageUrl[0]+")"},on:{click:function(i){return i.preventDefault(),t.getDetail(s.id)}}}),i("div",{staticClass:"card-body"},[i("h6",{staticClass:"card-title"},[t._v(" "+t._s(s.title)+" ")]),i("div",{staticClass:"text-right pr-2"},[t._v(" "+t._s(s.price)+" 元 ")])])])])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)}),r=[],o=(i("4de4"),i("7212")),n={data:function(){return{products:[],swiperOption:{pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},breakpoints:{1024:{slidesPerView:4,spaceBetween:30},768:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:2,spaceBetween:20},320:{slidesPerView:1,spaceBetween:10}}}}},components:{Swiper:o["Swiper"],SwiperSlide:o["SwiperSlide"]},props:{product:{type:Object}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/","api/").concat("9e5f06ba-feb2-48ad-896c-c990bd81a761","/ec/products");this.$http.get(s).then((function(s){t.products=s.data.data}))},getDetail:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{identical:function(){var t=this;return this.products.filter((function(s){return s.id!==t.product.id&&s.category===t.product.category}))},swiper:function(){return this.$refs.mySwiper.$swiper}},mounted:function(){this.swiper.slideTo(3,1e3,!1)}},d=n,l=i("2877"),p=Object(l["a"])(d,c,r,!1,null,null,null),u=p.exports,m={data:function(){return{product:{num:1,imageUrl:[],options:{}},status:{loadingItem:""},isLoading:!1}},components:{RelatedPorducts:u},created:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.isLoading=!0;var s=this.$route.params.id,i="".concat("https://course-ec-api.hexschool.io/","api/").concat("9e5f06ba-feb2-48ad-896c-c990bd81a761","/ec/product/").concat(s);this.$http.get(i).then((function(s){t.isLoading=!1,t.product=s.data.data,t.$set(t.product,"num",1)}))},addToCart:function(t){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("9e5f06ba-feb2-48ad-896c-c990bd81a761","/ec/shopping");this.isLoading=!0;var a={product:t,quantity:i};this.$http.post(e,a).then((function(t){s.status.loadingItem="",s.$bus.$emit("get-cart"),s.$bus.$emit("message:push","商品已成功加入購物車!","success"),s.isLoading=!1,console.log(t)})).catch((function(t){s.status.loadingItem="",console.log(t.response),s.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger"),s.isLoading=!1}))}}},v=m,f=Object(l["a"])(v,e,a,!1,null,null,null);s["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.be7e7729.js.map